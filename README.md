# Sravni SDK

Sravni SDK разработано специально для того чтобы упростить интеграцию пользовательского флоу компании. Оно позволяет запускать его нативно, напрямую из родительского приложения, тем самым предоставляя конечным пользователям бесшовный доступ к сервису.

Используя наш SDK, вы можете легко добавить функциональность нашей компании в свое приложение, без значительных изменений в существующем коде. 

## требования
 Для корректной интеграции SDK партнёру необходимо получить уникальный идентификатор `SDK_KEY` и передать номер телефона конечного пользователя.

-   **SDK_KEY** — уникальный идентификатор, который предоставляется индивидуально каждому партнёру нашей компанией. Этот идентификатор имеет высокий уровень конфиденциальности; в случае его компрометации или устаревания, он блокируется, вследствие чего необходимо запросить новый.
    
-   **Номер телефона** — используется для идентификации конечного пользователя. При первом использовании на указанный номер будет отправлен одноразовый пароль (OTP) для подтверждения доступа.
    
> **Примечание:**
> - В текущей версии SDK поддерживаются только номера российского региона (RU).
> - Номер телефона должен предоставляться в следующем формате: 70000000000


### Подключение Sravni SDK

Для подключения Sravni SDK выполните следующие шаги:

1.  Подключите spm-пакет https://github.com/sravni/IOSSravniSDK

### Запуск Sravni SDK
Запуск процесса идет через создание объекта SravniManager, с параметрами ключа активации апи (запрашивается в sravni.ru) и номера телефона клиента. SravniManager(
        configuration: .init(key: <ключ ативации SDK>, phoneNumber: <номер телефона клиента>)
    ) { [weak self] result in
    // тут ваша обработка результата
    }
После этого можно создать UIViewController используя метод createViewController класса SravniManager: let viewController = SravniManagerInstance.createViewController(), который можно отобразить удобным вам способом.

 
### Получение результатов
Ваш код может быть оповещён о результатах пользовательского флоу через замыкание, передаваемое при создании SravniManager. Варианты описаны внизу это документации.
 

## Значения результатов

SDK будет возвращать через подключенный колбэк следующие варианты ответов:

 - **errorInvalidPhoneNumber** -- Неправильный номер телефона или его формат.
 - **errorPartnerClientIdNotSupported** -- Ключ SDK партнера не распознан.
 - **errorPartnerClientIdIsBlocked** -- Ключ SDK партнера заблокирован.
 - **errorUserIsBlocked** -- Пользователь забокирован.
 - **errorAuthError** -- У пользователя нет прав доступа к содержимому.
 - **errorToManyRequests** -- Превышено количество запросов.
 - **finished** -- Флоу завершен пользователем.

